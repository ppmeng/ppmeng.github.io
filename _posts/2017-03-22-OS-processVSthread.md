---
title: "进程和线程的区别"
categories: "操作系统"
tags: ["OS", "process", "thread"]
---

## 进程

假如没有进程，想要提高CPU的利用率，实现并发的话就只能在编写每一个程序的时候都要考虑，程序执行的时候该占用多大的内存，写数据的时候会不会互相影响，该怎么扩充其占用的内存空间，内存碎片怎么处理，堵塞该怎么让出CPU等等这些问题，非常复杂，因此引入了进程的概念。

- 进程为了解决内存分配以及使用的问题，为每一个进程分配了一个独立的虚拟地址空间，使得进程之间相互隔离不会互相影响，比如在linux下启动一个进程，系统必须分配给它独立的地址空间，建立众多的数据表来维护他的代码段、堆栈段、数据段，基于这个特点，一个进程崩溃或新建，在保护模式下不会对其进程产生影响，有更强的容错性和伸缩性；
- 为了解决CPU占用问题，使用调度算法根据进程的状态来进行进程切换。没有线程之前可以说，进程是系统进行资源分配和调度的单位。


## 线程
当用多个进程完成一项任务的时候，往往他们之间需要相互合作，需要共享数据和通信，但是由于进程有独立的地址空间，所以进程之间通信比较麻烦，只能通过管道等方法而不能共享变量；由于进程有独立的地址空间，所以进程切换的时候不仅需要保存相关寄存器和栈等还需要进行切换页表，开销比较大；为了进一步提高并发性以及CPU的利用率，在进程内又引入了线程，没有自己的地址空间，共享进程的资源。